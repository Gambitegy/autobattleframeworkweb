<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Multiplayer | Auto-Battle Framework documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Multiplayer | Auto-Battle Framework documentation ">
    <meta name="generator" content="docfx 2.59.3.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <link href="//cdn.rawgit.com/noelboss/featherlight/1.7.6/release/featherlight.min.css" type="text/css" rel="stylesheet">
    <meta property="docfx:navrel" content="../toc">
    <meta property="docfx:tocrel" content="toc">
    <meta property="docfx:rel" content="../">
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
                
                <ul class="nav level1 navbar-nav">
                      <li>
                          <a href="../overview/Introduction.html" title="Manual">Manual</a>
                      </li>
                      <li>
                          <a href="../api/AutoBattleFramework.BattleBehaviour.html" title="Scripting API">Scripting API</a>
                      </li>
                      <li>
                          <a href="../changelog/1.2.html" title="Changelog">Changelog</a>
                      </li>
                      <li>
                          <a href="https://gambitegy.github.io/" title="Contact">Contact</a>
                      </li>
                </ul>    </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div>
              <div class="sidefilter">
                <form class="toc-filter">
                  <span class="glyphicon glyphicon-filter filter-icon"></span>
                  <input type="text" id="toc_filter_input" placeholder="Enter here to filter..." onkeypress="if(event.keyCode==13) {return false;}">
                </form>
              </div>
              <div class="sidetoc">
                <div class="toc" id="toc">
                  
                  <ul class="nav level1">
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">Overview</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="Introduction.html" title="Introduction" class="">Introduction</a>
                          </li>
                          <li class="">
                            <a href="install.html" title="Install Auto-Battle Framework" class="">Install Auto-Battle Framework</a>
                          </li>
                          <li class="">
                            <a href="description.html" title="Description of the systems" class="">Description of the systems</a>
                          </li>
                          <li class="">
                            <a href="scene.html" title="Description of the sample scene" class="">Description of the sample scene</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">Tutorials</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="started.html" title="Getting started" class="">Getting started</a>
                          </li>
                          <li class="">
                            <a href="battlegrid.html" title="Customizing the Battle Grid" class="">Customizing the Battle Grid</a>
                          </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="ccharacter.html" title="Create a new Game Character" class="">Create a new Game Character</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="ctrait.html" title="Create a new Trait" class="">Create a new Trait</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="cattack.html" title="Create a new Attack Effect" class="">Create a new Attack Effect</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="cprojectile.html" title="Create a new Projectile" class="">Create a new Projectile</a>
                                </li>
                                <li class="">
                                  <a href="cbuff.html" title="Create a new Buff Effect" class="">Create a new Buff Effect</a>
                                </li>
                                <li class="">
                                  <a href="conhit.html" title="Create a new On-Hit Effect" class="">Create a new On-Hit Effect</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="fusionmanager.html" title="Fusion Manager" class="">Fusion Manager</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="clevelup.html" title="Level Up a Game Character" class="">Level Up a Game Character</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <a href="citem.html" title="Create a new Game Item" class="">Create a new Game Item</a>
                          </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="shopmanager.html" title="Shop Manager" class="">Shop Manager</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="citemlist.html" title="Create a new Item List" class="">Create a new Item List</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a href="battlestage.html" title="Battle Stage" class="">Battle Stage</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="preparationstate.html" title="Create a new Preparation State" class="">Create a new Preparation State</a>
                                </li>
                                <li class="">
                                  <a href="fightstate.html" title="Create a new Fight State" class="">Create a new Fight State</a>
                                </li>
                                <li class="">
                                  <a href="changestagestate.html" title="Create a new Change Stage State" class="">Create a new Change Stage State</a>
                                </li>
                                <li class="">
                                  <a href="cstate.html" title="Create a new Battle State" class="">Create a new Battle State</a>
                                </li>
                                <li class="">
                                  <a href="cstage.html" title="Create a new Battle Stage" class="">Create a new Battle Stage</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <a href="editui.html" title="Customize the UI" class="">Customize the UI</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">Multiplayer</a>
                        
                        <ul class="nav level2">
                          <li class="active">
                            <a href="multiplayer.html" title="Multiplayer" class="active">Multiplayer</a>
                          </li>
                        </ul>  </li>
                  </ul>        </div>
              </div>
            </div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="multiplayer">Multiplayer</h1>

<p>To have Multiplayer functionality you need to download <a href="https://assetstore.unity.com/packages/slug/239974">Multiplayer for Auto-Battle Framework</a> from the asset store. The installation method is described below.</p>
<h2 id="how-to-install-multiplayer-for-auto-battle-framework">How to Install Multiplayer for Auto-Battle Framework.</h2>
<p>Be sure to install the Auto-Battle Framework following the steps in <a href="install.html">How to install Auto-Battle Framework?</a>.</p>
<p>1. Download Multiplayer for Auto-Battle Framework from the Asset Store. Import it into a project containing Auto-Battle Framework. </p>
<p>2. Go to Window, Package Manager. Open Packages: Unity Registry, and install the Relay and Lobby packages. They may have been installed when Multiplayer for Auto-Battle Framework was downloaded, and the window that appears in step 3 may have already appeared.</p>
<p>3. Go to Windows, General, Services. In the Inspector click on Dashboard. The Project Settings window will open. Select an organization and click on Create project ID.
<img src="../resources/multiplayer/1.png" alt="Select an organtization and clic on Create project ID"></p>
<p>4. Click again on Dashboard. You will be redirected to the Unity Gaming Services website.</p>
<p>5. A project linked to Unity Gaming Services will be selected at the top. Select the corresponding project.</p>
<p>6. Once selected, click on Multiplayer, then on Lobby. Click on Set up Lobby.</p>
<p>7. At this point you may be prompted to subscribe to Unity Gaming Services. Please read the terms and conditions of service carefully.</p>
<p>8. You will be shown a series of steps to follow, which correspond to points 1 to 3, so you can proceed directly to the Turn Lobby On point. Activate the option shown on the screen.</p>
<p>9. Click on Multiplayer, then on Relay. Click on Set up Relay.</p>
<p>10. You will be shown a series of steps to follow, which correspond to points 1 to 3, so you can proceed directly to the Turn Relay On point. Activate the option shown on the screen.</p>
<p>Everything should be ready by now. To check it, open the Multiplayer scene, create a new build, make sure the scene is first in the &quot;Scenes in Build&quot; list, and click on Build.
Run the scene in the editor and click on the Match button. Wait a few seconds, open the newly created build and click on the same button. You will be able to play the scene in two-player mode. If not, please check the instructions again and repeat the steps.</p>
<h2 id="scenes-description">Scenes description</h2>
<p>The following scenes are attached:</p>
<p>Multiplayer: This is an example game where two players can buy units and items, level up their characters and battle against the opponent&#39;s team infinitely.</p>
<p>Multiplayer4Players: It is an example game where four players can buy units and items, level up their characters and battle against the opponent&#39;s team infinitely.</p>
<h2 id="connection-modes">Connection modes</h2>
<p>Three connection modes are included.</p>
<p>Local: In this mode, having two instances of the game open at the same time on the same device, one will be the Host and the other the client.</p>
<p>Relay: In this mode, the player who wants to be the Host must click on the Host button. When doing so, a code will be generated, and it will have to be sent manually to the other player to connect to the same game. This mode is ideal for friends to play against each other. Each player can be on their own device and network.</p>
<p>Matchmaking: Using Relay and Lobby, it allows you to find another player quickly. Each player can be on their own device and network.</p>
<p><img src="../resources/multiplayer/join.png" alt="All binding modes can be seen in the upper left corner of both test scenes."></p>
<h2 id="essential-operation-of-the-multiplayer">Essential operation of the multiplayer.</h2>
<p>This section describes three very important components to ensure the operation of the multiplayer mode:</p>
<p>1. GamingServices component: This component allows the use of Relay, Host and Matchmaking. It is very important to correctly enter the maximum number of connections. In two-player mode, a 2 will be entered, in four-player mode a 4, and so on.</p>
<p>2. Network Manager: Responsible for synchronizing all clients with the host, and for having a list of Network Game Objects. Next to it, there should be the Network Object list component, which contains a button to add and synchronize all the characters and actors in the project in the Network Manager list.</p>
<p>3. MP_Connection_State: This is a BattleState that prevents the game from starting unless the minimum number of players have connected. It is very important to enter this number correctly to avoid unwanted game starts. This BattleState must be in the first place of the initial Stage of the game.</p>
<h2 id="how-to-convert-characters-and-items-to-multiplayer">How to convert characters and items to multiplayer.</h2>
<p>To convert a GameActor to multiplayer, right click on a character or item prefab, and click on &quot;Auto-Battle Framework/Multiplayer/Create NGO Character&quot; or &quot;Auto-Battle Framework/Multiplayer/Create NGO Item&quot;.
<img src="../resources/multiplayer/2.png" alt="Converting a GameActor to a multiplayer ready one"></p>
<p>This will create a copy of the prefab with the NGO_GameCharacter or NGO_GameItem component. It will need to be added to the Shop in the same way as explained in <a href="ccharacter.html">Create a new Game Character</a> (Section 8) or <a href="citem.html">Create a new Game Item</a> (Section 9).</p>
<p>In the case of a character and fusions/leveling up, you will also have to create a Game Character Fusion, in the same way as explained in <a href="clevelup.html">Level Up a Game Character</a>.</p>
<h2 id="how-to-create-a-multiplayer-battle-stage">How to create a Multiplayer Battle Stage</h2>
<p>This is done in the same way as described in section <a href="cstage.html">Create a new Battle Stage</a>, but with a few minor differences:</p>
<p>Instead of using the BattleStates PreparationState and FightState, we will instead use MP_PreparationState and MP_FightState. Both can be created by right clicking on the project, under &quot;Auto-Battle Framework/BattleStates/Multiplayer&quot;. The only notable difference is that in MP_FightState it is no longer possible to add BattlePositions, since the positions are given by the players&#39; own characters.
<img src="../resources/multiplayer/3.png" alt="Creating Multiplayer BattleStates"></p>
<p>Remember that in the first Stage, the first BattleState must be MP_ConnectionState.</p>
<h2 id="how-to-create-a-battlefield-for-more-than-2-players">How to create a battlefield for more than 2 players.</h2>
<p>You can see how to modify the battlefield for more than 2 players in the section <a href="battlegrid.html">How to create a battlefield for more than 2 players</a>.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://bitbucket.org/SDuelist/auto-battle-framework-multiplayer/src/master/Documentation/overview/multiplayer.md#lines-1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Auto-Battle Framework documentation
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
    <script src="//cdn.rawgit.com/noelboss/featherlight/1.7.6/release/featherlight.min.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript" src="../styles/plugin-featherlight.js"></script>
  </body>
</html>
